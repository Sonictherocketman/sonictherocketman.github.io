<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The New New CMS - BiteofanApple</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="webmention" href="https://pine.blog/api/webmention/r/f4ecb3b3-6edc-4baa-9553-4f678c3e4b96" />
    <link rel="icon" type="image/png" href="/images/misc/logo-sm.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/misc/favicon.png">

    <link rel="stylesheet" type="text/css" href="/bin/css/stylesheet.css?v=2.3">
    <link rel="stylesheet" type="text/css" href="/bin/css/mobile.css?v=2.3">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/>
    <link rel="alternate" type="application/json" title="JSON Feed" href="/feed.json"/>
    
  <meta property="og:title" content="The &lt;i&gt;New&lt;/i&gt; New CMS" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://brianschrader.com/archive/the-new-new-cms/" />
  

  </head>
  <body>
    <div id="content">
      <div class="nav-container">
  <nav class="nav">
    <div class="nav-item nav-brand">
      <a href="/" class="site-title">
        BiteofanApple
      </a>
      <span
        class="author-tag hide-on-mobile"
      >
        by <a href="/about/">Brian Schrader</a>
      </span>
    </div>
    
    <div class="nav-item"><a href="/archive/">Archive</a></div>
    <div class="nav-item"><a href="/about/">About</a></div>
    <div class="nav-item"><a href="https://skyrocket.software">Apps</a></div>
    <div class="nav-item"><a href="https://mastodon.social/@sonicrocketman">Microblog</a></div>
    
  </nav>
</div>
      
  <div class="bars">
    <div class="main-bar">
      <article class="h-entry">
        <a href="/" class="u-author"></a>
        <div class="post">
          <div class="article-title">
            <h1 class="p-name">
              <a
                href="/archive/the-new-new-cms/"
                title="The &lt;i&gt;New&lt;/i&gt; New CMS"
              >
                
                The <I>new</i> New Cms
                
              </a>
            </h1>
            <small style="font-style:italic;">
              <time class="dt-published" datetime="2014-03-24T02:43:00">
                Posted on Mon, 24 Mar 2014 at 02:43 AM
              </time>
            </small>
          </div>
          <div class="article-content e-content">
            <p>Over the last few weekends I've been migrating to a new home-built CMS. The new CMS is <em>finally</em> something I can be proud of function wise, and because it doesn't use and fancy SQL databases I know it will be more easily maintainable and much more search friendly. Counting this one, that makes four different CMS's I've gone through for this site and its predecessor. I've used 100% static HTML files, dynamic PHP pages that relied on SQL databases, and a 100% web form based system, none of which I was happy with. They were all too complicated to maintain, or just felt wrong to use for just a simple blog. I wanted something <a href="http://en.wikipedia.org/wiki/Code_Monkey_(song)">functional, and elegant</a>.</p>
<p>The new CMS uses a remote Git repo to save all changes, and clones that repo into the web root. <a href="http://toroid.org/ams/git-website-howto">This article</a> helped me get that set up, and I've referred back to it so often that it shows up first in my Safari search suggestions. </p>
<p>The CMS is actually just a set of <em>mostly</em> static pages that pull their data from JSON files. The JSON files are generated by a Python script on my local machine before being committed to the repository clone on my Mac and finally pushed to the server. </p>
<p>Writing the articles is the easiest part, as it should be. It's really simple; write a Markdown file and put five lines of metadata at the top: title, author, slug (optional), tags, and status. The status tells the Python script whether the article is a draft meant for previewing, or a ready-to-publish article. That's it. Run the Python script, look at the preview, change the status to "publish", commit the changes and publish to the server. The rest is taken care of by PHP snippets, Python scripts, and Git's magic.</p>
<p><img class="image-center" src="/images/blog/markdown-cms-preview.jpg" alt="A look at a typical Markdown article"></p>
<p>When I started out with this refactor, I had my sights set on using PHP for everything, like I had before. I'm no expert in PHP (I've probably written less than 2000 lines of it ever) but I don't particularly like it as a language, so I went with Python. I hadn't written Python in over a year, but it was easy enough to relearn, and over the time I've spent rewriting the CMS, I've fallen for Python as my preferred scripting language. In fact, I've come up with a project using Python's cool feature to integrate with C, but more on that later.</p>
<p>As for the scripts and the PHP template pages, I might clean them up for GitHub some day (they're still a little rough around the edges, and there's no current way to update an article automatically) but once a few bugs are worked out and features added, I'll try to get it up there. </p>
<p>Thanks to <a href="http://blog.tabini.ca/going-static/">Marco Tabini</a> for his articles on <a href="https://github.com/mtabini/louis">Louis</a> and his static-file website articles, and thanks to <a href="http://www.marco.org/about">Marco Arment</a> for his method of generating previews and using Dropbox sync. I wish I could have built a system like his CMS <a href="http://www.marco.org/secondcrack">SecondCrack</a> but sadly my web host doesn't allow Dropbox to run on the server. And finally thanks to <a href="http://toroid.org/ams/git-website-howto">Abhijit Menon-Sen</a> for his awesome explanation of how to deploy a website using Git. </p>
<p>I'd love to answer any questions about the CMS, if you have one you can find me on Twitter <a href="http://twitter.com/SonicRocketman">@SonicRocketman</a> or go to <a href="/about/">the about page</a> and send me an email. </p>
          </div>
          <hr />
          <div style="display: flex; justify-content: space-between;">
            <div>
              
              
              <small>
                Filed under:
                <span class="tags article-content">
                  
                    <a href="/tags.html#tag-websites" title="websites" class="tag">websites</a>,
                  
                    <a href="/tags.html#tag-cms" title="cms" class="tag">cms</a>,
                  
                    <a href="/tags.html#tag-blogging" title="blogging" class="tag">blogging</a>
                  
                </span>
              </small><br />
              
              <small>
                Other Links:
                <span class="article-content"><a rel="alternate" href="/rss.xml">RSS Feed</a></span>,
                <span class="article-content"><a rel="alternate" href="/feed.json">JSON Feed</a></span>,
                <span class="article-content">
                  <a
                    rel="status"
                    href="https://nine9s.cloud/s/e/74b2b428-f6b8-4c3f-bf9f-4d4b21404578"
                    target="_blank"
                  >
                    Status Page &#8594;
                  </a>
                </span>
              </small>
            </div>
            <div class="newsletter-callout">
              <div class="callout text-center">
                <a
                  href="https://sendfox.com/brianschrader/"
                  title="Subscribe to the newsletter"
                  class="subscribe"
                  target="_blank"
                >
                  <span class="hide-on-mobile">The</span> Newsletter &#8594;
                </a>
              </div>
            </div>
          </div>
        </div>
      </article>
      <div class="footer">
        <img
          src="/images/misc/logo-sm.png"
          alt="BiteofAnapple Logo"
          style="width: 60px;"
          width="60px"
        />
      </div>
    </div>
    <div class="side-bar">
      <div class="promotion">
  
  <script src="https://shoutouts.page/embed/sRGtA2wwnhW-dAPFXEBy.js" defer></script>
  
</div>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search", showSubResults: true, baseUrl: "/archive", });
    });
</script>
<h4>Featured Posts</h4>
<ul>
  
  <li><a href="/archive/on-the-lies-depression-tells/" title="On the Lies Depression Tells" rel="nofollow">
    On the Lies Depression Tells
  </a></li>
  
  <li><a href="/archive/narrative-structure-and-the-principle-of-least-action/" title="Narrative Structure and the Principle of Least Action" rel="nofollow">
    Narrative Structure and the Principle of Least Action
  </a></li>
  
  <li><a href="/archive/science-models-and-squeaking-lead/" title="Science, Models, and Squeaking Lead" rel="nofollow">
    Science, Models, and Squeaking Lead
  </a></li>
  
  <li><a href="/archive/on-handwriting-and-switching-to-cursive/" title="On Handwriting and Switching to Cursive" rel="nofollow">
    On Handwriting and Switching to Cursive
  </a></li>
  
  <li><a href="/archive/on-the-web-the-best-outcome-is-email/" title="On the Web, the Best Outcome is Email" rel="nofollow">
    On the Web, the Best Outcome is Email
  </a></li>
  
  <li><a href="/archive/the-web-as-a-social-network/" title="The Web as a Social Network" rel="nofollow">
    The Web as a Social Network
  </a></li>
  
</ul>
<h4>Recent Posts</h4>
<ul>
  
  <li><a href="/archive/on-the-lies-depression-tells/" title="On the Lies Depression Tells" rel="nofollow">
    On the Lies Depression Tells
  </a></li>
  
  <li><a href="/archive/the-long-view-of-history/" title="The Long View of History" rel="nofollow">
    The Long View of History
  </a></li>
  
  <li><a href="/archive/blogging-writing-musing-and-thinking/" title="Blogging, Writing, Musing, and Thinking" rel="nofollow">
    Blogging, Writing, Musing, and Thinking
  </a></li>
  
  <li><a href="/archive/maintaining-a-music-library-ten-years-on/" title="Maintaining a Music Library, Ten Years On" rel="nofollow">
    Maintaining a Music Library, Ten Years On
  </a></li>
  
  <li><a href="/archive/empirical-partial-derivatives/" title="Empirical Partial Derivatives" rel="nofollow">
    Empirical Partial Derivatives
  </a></li>
  
  <li><a href="/archive/chemical-telescopes-and-the-process-of-science/" title="Chemical Telescopes and the Process of Science" rel="nofollow">
    Chemical Telescopes and the Process of Science
  </a></li>
  
  <li><a href="/archive/pine-blog-deprecation/" title="So Long Pine.blog" rel="nofollow">
    So Long Pine.blog
  </a></li>
  
  <li><a href="/archive/spoken-audio-from-automator--netnewswire/" title="Spoken Audio from Automator &amp; NetNewsWire" rel="nofollow">
    Spoken Audio from Automator &amp; NetNewsWire
  </a></li>
  
  <li><a href="/archive/the-strangely-anthropic-form-of-natural-laws/" title="The Strangely Anthropic Form of Natural Laws" rel="nofollow">
    The Strangely Anthropic Form of Natural Laws
  </a></li>
  
  <li><a href="/archive/your-brain-is-an-l1-cache/" title="Your Brain is an L1 Cache" rel="nofollow">
    Your Brain is an L1 Cache
  </a></li>
  
</ul>
<h4>Also Me</h4>
<ul>
  <li><a href="https://mastodon.social/@sonicrocketman" title="Mastodon" rel="nofollow me">
    Mastodon
  </a></li>
  <li><a href="https://github.com/sonictherocketman/" title="GitHub" rel="nofollow me">
    GitHub
  </a></li>
  <li><a href="https://en.gravatar.com/sonicrocketman" title="Gravatar" rel="nofollow me">
    Gravatar
  </a></li>
  <li><a href="https://sonicrocketman.bandcamp.com" title="Bandcamp" rel="nofollow me">
    Bandcamp
  </a></li>
  <li><a href="https://scholar.google.com/citations?user=tQi0VJ0AAAAJ" title="Google Scholar" rel="nofollow me">
    Google Scholar
  </a></li>
  <li><a href="https://www.linkedin.com/in/sonicrocketman/" title="LinkedIn" rel="nofollow me">
    LinkedIn
  </a></li>
</ul>
<h4>Resources</h4>
<ul>
  <li><a href="/archive/bibliography" title="Bibliography">
    Bibliography
  </a></li>
  <li><a href="/archive/bookshelf" title="Book Recommendations">
    Book Recommendations
  </a></li>
  <li><a href="/archive/recipes/" title="Food and Drink Recipes">
    Food &amp; Drink Recipes
  </a></li>
  <li><a href="/archive/reading-report/" title="Reading Report">
    Books & Reading Statistics
  </a></li>
  <li><a href="/archive/drawing-of-the-day/" title="Drawing of the Day">
    Drawing of the Day
  </a></li>
  <li><a href="/archive/daily-step-count--walking-statistics/" title="Daily Step Count &amp; Walking Statistics">
    Daily Step Count &amp; Walking Statistics
  </a></li>
  <li><a href="/tags.html" title="Posts by Tag">
    Tags
  </a></li>
</ul>
<h4>Tags</h4>
<div class="tags">
  
    <a href="/tags.html#tag-programming" title="programming" class="tag">programming</a>,
  
    <a href="/tags.html#tag-software" title="software" class="tag">software</a>,
  
    <a href="/tags.html#tag-software development" title="software development" class="tag">software development</a>,
  
    <a href="/tags.html#tag-blogging" title="blogging" class="tag">blogging</a>,
  
    <a href="/tags.html#tag-pine.blog" title="pine.blog" class="tag">pine.blog</a>,
  
    <a href="/tags.html#tag-open web" title="open web" class="tag">open web</a>,
  
    <a href="/tags.html#tag-history" title="history" class="tag">history</a>,
  
    <a href="/tags.html#tag-writing" title="writing" class="tag">writing</a>,
  
    <a href="/tags.html#tag-development" title="development" class="tag">development</a>,
  
    <a href="/tags.html#tag-personal" title="personal" class="tag">personal</a>
  
</div>
<h4>Blogroll</h4>
<ul>
  <li><a href="https://www.manton.org" title="Manton Reece" rel="nofollow">
    Manton Reece
  </a></li>
  <li><a href="https://acoup.blog" title="A Collection of Unmitigated Pedantry" rel="nofollow">
    A Collection of Unmitigated Pedantry
  </a></li>
  <li><a href="https://aaronparecki.com/" title="Aaron Parecki" rel="nofollow">
    Aaron Parecki
  </a></li>
  <li><a href="https://www.slowboring.com" title="Slow Boring" rel="nofollow">
    Slow Boring
  </a></li>
  <li><a href="https://treyhunner.com" title="Trey Hunner" rel="nofollow">
    Trey Hunner
  </a></li>
  <li><a href="https://www.mnot.net/blog/" title="mark nottingham" rel="nofollow">
    mark nottingham
  </a></li>
  <li><a href="http://globalspin.com" title="Global Spin" rel="nofollow">
    Global Spin
  </a></li>
  <li><a href="https://iifrp.org" title="IIFRP.org" rel="nofollow">
    IIFRP.org
  </a></li>
  <li><a href="http://mattgemmell.com/" title="Matt Gemmell" rel="nofollow">
    Matt Gemmell
  </a></li>
  <li><a href="http://jvns.ca/" title="Julia Evans" rel="nofollow">
    Julia Evans
  </a></li>
  <li><a href="https://www.youtube.com/@SabineHossenfelder" title="Sabine Hossenfelder" rel="nofollow">
    Sabine Hossenfelder
  </a></li>
</ul>
    </div>
  </div>
  <div style="text-align:center;">
    <div class="article-content">
    </div>
  </div>

  <!-- Federation -->
  <a href="https://fed.brid.gy/"></a>

    </div>
  </body>
  <script src="/pagefind/pagefind-ui.js"></script>
</html>